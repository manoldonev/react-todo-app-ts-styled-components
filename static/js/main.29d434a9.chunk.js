(this["webpackJsonpreact-todo-app-ts-styled-components"]=this["webpackJsonpreact-todo-app-ts-styled-components"]||[]).push([[0],{22:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(13),i=n.n(a),c=(n(22),n(4)),d=n(3);var s,l,u=n(11);!function(e){e.All="all",e.Active="active",e.Done="done"}(s||(s={})),function(e){e[e.None=0]="None",e[e.Search=1]="Search",e[e.Add=2]="Add"}(l||(l={}));var p,m=l,f=n(0);!function(e){e[e.AddItem=0]="AddItem",e[e.SearchItem=1]="SearchItem",e[e.ToggleItem=2]="ToggleItem",e[e.ToggleFilter=3]="ToggleFilter",e[e.ToggleMode=4]="ToggleMode"}(p||(p={}));var h=o.a.createContext(null),b=o.a.createContext(null);function g(e,t){switch(t.type){case p.AddItem:var n=(e.items.length+1).toString();return Object(d.a)(e,(function(e){var r;e.items.push({id:(r={id:n,text:t.payload}).id,text:r.text,done:!1})}));case p.SearchItem:return Object(d.a)(e,(function(e){e.query=t.payload}));case p.ToggleItem:var r=t.payload;if(!r)throw new Error("".concat(t.type,": item id not specified"));return Object(d.a)(e,(function(e){var n=e.items.find((function(e){return e.id===r}));if(null==n)throw new Error("".concat(t.type,": item with id ").concat(r," not found"));n.done=!n.done}));case p.ToggleFilter:var o=t.payload;if(!(o in s))throw new Error("".concat(t.type,": filter ").concat(o," not found"));return Object(d.a)(e,(function(e){e.filterMode=s[o]}));case p.ToggleMode:var a=parseInt(t.payload,10);if(!(a in m))throw new Error("".concat(t.type,": input mode ").concat(a," not recognized"));return Object(d.a)(e,(function(e){return e.inputMode!==a&&(e.inputMode=a,e.query="",e.filterMode=s.All),e}));default:throw new Error("Unhandled action type")}}function y(e){var t=e.children,n=e.reducer,o=void 0===n?g:n,a=[{id:"1",text:"Learn JavaScript",done:!0},{id:"2",text:"Learn React",done:!1},{id:"3",text:"Build a React app",done:!1}],i=Object(r.useReducer)(o,{items:a,filterMode:s.All,inputMode:m.Add,query:""}),d=Object(c.a)(i,2),l=d[0],u=d[1];return Object(f.jsx)(h.Provider,{value:l,children:Object(f.jsx)(b.Provider,{value:u,children:t})})}function j(){var e=o.a.useContext(b);if(null==e)throw new Error("useTodoDispatch must be within a TodoProvider");return e}var w=n(2),v=w.a.li.withConfig({displayName:"TodoItem__StyledTodoItem",componentId:"sc-1korp61-0"})(["background-color:#fff;border:none;border-bottom:0.1rem solid #ddd;&:last-child{border-bottom:none;}",""],(function(e){return e.done&&"\n    text-decoration: line-through;\n    color: #aaa;\n  "})),x=w.a.div.withConfig({displayName:"TodoItem__Wrapper",componentId:"sc-1korp61-1"})(["margin:1rem 0;min-height:2rem;"]),O=w.a.input.attrs({type:"checkbox"}).withConfig({displayName:"TodoItem__Checkbox",componentId:"sc-1korp61-2"})(["margin-right:0.4rem;"]);function C(e){var t=e.data,n=t.id,r=t.text,o=t.done,a=j();return Object(f.jsx)(v,{done:o,children:Object(f.jsx)(x,{children:Object(f.jsxs)("label",{htmlFor:n,children:[Object(f.jsx)(O,{id:n,checked:o,onChange:function(){a({type:p.ToggleItem,payload:n})}}),r]})})})}var I=w.a.h1.withConfig({displayName:"Header__StyledHeader",componentId:"sc-cnsn7q-0"})(["margin:0;padding-bottom:2rem;text-align:center;text-transform:uppercase;"]);function k(){return Object(f.jsx)(I,{children:"Things to do"})}var _=n.p+"static/media/add.5451be43.svg",S=n.p+"static/media/search.efb43b79.svg",T=w.a.ul.withConfig({displayName:"ActionList__StyledList",componentId:"sc-11obbn1-0"})(["flex:0 0 auto;list-style-type:none;border-right:0.1rem solid #ccc;margin-right:1.5rem;padding:0;"]),N=w.a.li.withConfig({displayName:"ActionList__ActionItem",componentId:"sc-11obbn1-1"})(["display:inline;"]),A=w.a.button.attrs({type:"button"}).withConfig({displayName:"ActionList__ImageButton",componentId:"sc-11obbn1-2"})(["border:0;margin:0 0.8rem 0 0;padding:0.4rem 1.5rem;height:calc(max(1.8rem,18px));width:calc(max(1.8rem,18px));cursor:pointer;transition:0.3s all;opacity:0.4;"," &:hover{opacity:1;}"],(function(e){return e.active&&"opacity: 1;"})),L=Object(w.a)(A).withConfig({displayName:"ActionList__AddButton",componentId:"sc-11obbn1-3"})(["background:url('","') no-repeat center;"],_),E=Object(w.a)(A).withConfig({displayName:"ActionList__SearchButton",componentId:"sc-11obbn1-4"})(["background:url('","') no-repeat center;"],S);function M(e){var t=e.mode,n=j();function r(e){n({type:p.ToggleMode,payload:e.currentTarget.value})}return Object(f.jsxs)(T,{children:[Object(f.jsx)(N,{children:Object(f.jsx)(L,{onClick:r,active:t===m.Add,value:m.Add,"aria-label":"Create Mode","data-testid":"action-add"})}),Object(f.jsx)(N,{children:Object(f.jsx)(E,{onClick:r,active:t===m.Search,value:m.Search,"aria-label":"Search Mode","data-testid":"action-search"})})]})}var F=w.a.ul.withConfig({displayName:"Filter__FilterList",componentId:"sc-isa2h8-0"})(["flex:0 0 auto;list-style-type:none;padding-left:0;"]),K=w.a.li.withConfig({displayName:"Filter__FilterItem",componentId:"sc-isa2h8-1"})(["display:inline;"]),P=w.a.button.attrs({type:"button"}).withConfig({displayName:"Filter__Button",componentId:"sc-isa2h8-2"})(["text-transform:capitalize;background-color:transparent;color:inherit;margin:0.3rem;padding:0.3rem 0.7rem;text-decoration:none;border:0.1rem solid transparent;border-radius:0.3rem;&:hover{border-color:rgba(175,47,47,0.1);}",""],(function(e){return e.active&&"\n    border-color: rgba(175, 47, 47, 0.2);\n  "}));function q(e){var t=e.mode,n=j();return Object(f.jsx)(F,{children:Object.entries(s).map((function(e){var r=Object(c.a)(e,2),o=r[0],a=r[1];return Object(f.jsx)(K,{children:Object(f.jsx)(P,{active:a===t,onClick:function(){return function(e){n({type:p.ToggleFilter,payload:e})}(o)},children:a})},o)}))})}var B=w.a.div.withConfig({displayName:"Footer__StyledFooter",componentId:"sc-15k0hw1-0"})(["display:flex;flex-wrap:wrap;align-items:baseline;border-top:0.1rem solid #ddd;background-color:#f4fce8;margin:0 -2rem -1rem -2rem;padding:0 2rem;color:#707070;"]),R=w.a.span.withConfig({displayName:"Footer__TextWrapper",componentId:"sc-15k0hw1-1"})(["margin-right:auto;"]),z=w.a.span.withConfig({displayName:"Footer__Counter",componentId:"sc-15k0hw1-2"})(["font-weight:bold;"]);function D(e){var t=e.count,n=e.filterMode,r=e.inputMode;return Object(f.jsxs)(B,{children:[Object(f.jsx)(M,{mode:r}),Object(f.jsxs)(R,{"data-testid":"counter",children:[Object(f.jsx)(z,{children:t})," items left"]}),Object(f.jsx)(q,{mode:n})]})}var J=w.a.input.attrs({type:"text"}).withConfig({displayName:"InputBox__StyledInput",componentId:"sc-1brcms3-0"})(["display:block;width:100%;height:3.4rem;padding:0.6rem 1.2rem;font-size:1.4rem;line-height:1.42857143;color:#555;background-color:#fff;border:1px solid #ccc;"]);function H(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),n=t[0],o=t[1],a=j();return Object(f.jsx)(J,{placeholder:"Add New",value:n,onChange:function(e){return o(e.target.value)},onKeyUp:function(e){"Enter"===e.code&&(a({type:p.AddItem,payload:n.trim()}),o(""))}})}function U(e){var t=e.query,n=j();return Object(f.jsx)(J,{placeholder:"Search",value:t,onChange:function(e){var t=e.target.value;n({type:p.SearchItem,payload:t})}})}function W(e){var t=e.mode,n=e.query;switch(t){case m.Add:return Object(f.jsx)(H,{});case m.Search:return Object(f.jsx)(U,{query:n});default:return null}}var G,Q=n(8),V=n(17);!function(e){e[e.Keydown=0]="Keydown",e[e.Keyup=1]="Keyup",e[e.Reset=2]="Reset"}(G||(G={}));var X=["input","textarea"];function Y(e,t){switch(t.type){case G.Keydown:return Object(d.a)(e,(function(e){if(null==t.key)throw new Error("".concat(t.type,": missing key"));e[t.key]=!0}));case G.Keyup:return Object(d.a)(e,(function(e){if(null==t.key)throw new Error("".concat(t.type,": missing key"));e[t.key]=!1}));case G.Reset:if(null==t.payload)throw new Error("".concat(t.type,": missing payload"));return Object(V.a)({},t.payload);default:return e}}var Z=function(e,t){if(!e.length)throw new Error("The first parameter to `useKeyboardShortcut` must contain at least one `KeyboardEvent.key` string.");var n=e.map((function(e){return e.toLowerCase()})),o=n.reduce((function(e,t){return e[t]=!1,e}),{}),a=Object(r.useReducer)(Y,o),i=Object(c.a)(a,2),d=i[0],s=i[1],l=Object(r.useCallback)((function(e){var t=e.key,r=e.target,o=e.repeat,a=t.toLowerCase();o||X.includes(r.tagName.toLowerCase())||!n.includes(a)||d[a]||s({type:G.Keydown,key:a})}),[d,n]),u=Object(r.useCallback)((function(e){var t=e.key,r=e.target,o=t.toLowerCase();!X.includes(r.tagName.toLowerCase())&&n.includes(o)&&d[o]&&s({type:G.Keyup,key:o})}),[d,n]);Object(r.useEffect)((function(){Object.values(d).every((function(e){return e}))&&(t(d),s({type:G.Reset,payload:o}))}),[t,d,o]),Object(r.useEffect)((function(){return window.addEventListener("keydown",l,!0),function(){return window.removeEventListener("keydown",l,!0)}}),[l]),Object(r.useEffect)((function(){return window.addEventListener("keyup",u,!0),function(){return window.removeEventListener("keyup",u,!0)}}),[u])};var $=w.a.p.withConfig({displayName:"Info__Paragraph",componentId:"sc-1h9cs2b-0"})(["position:absolute;font-size:1.44rem;margin-top:2rem;left:0;right:0;color:#6b6b6b;text-align:center;"]);function ee(e){var t=e.mode===m.None?"Press `Shift + S` to search and `Shift + A` to create a new item.":"Press `Esc` to cancel.";return Object(f.jsx)($,{children:t})}var te=w.a.section.withConfig({displayName:"TodoList__Section",componentId:"sc-xjycbk-0"})(["background-color:#fff;padding:2rem 2rem 1rem 2rem;border:0.1rem solid #ddd;border-radius:0.2rem;margin:3rem auto;min-width:32rem;max-width:60rem;position:relative;"]),ne=w.a.ul.withConfig({displayName:"TodoList__StyledList",componentId:"sc-xjycbk-1"})(["list-style-type:none;padding-left:0;"]),re=w.a.p.withConfig({displayName:"TodoList__Paragraph",componentId:"sc-xjycbk-2"})(["margin:1rem 0;padding:1rem;border-radius:0;background:#f2f2f2;border:1px solid rgba(229,229,229,0.5);color:#888;"]);function oe(){var e,t=function(){var e=o.a.useContext(h);if(null==e)throw new Error("useTodoState must be within a TodoProvider");return e}(),n=t.items,r=t.filterMode,a=t.inputMode,i=t.query,c=function(e,t){return t===s.Done?e.filter((function(e){return e.done})):t===s.Active?e.filter((function(e){return!e.done})):Object(u.a)(e)}(function(e,t){var n=t.toLowerCase();return""===t?Object(u.a)(e):e.filter((function(e){return e.text.toLowerCase().includes(n)}))}(n,i),r),d=c.length;return function(){var e=j(),t=[Q.Key.Shift,"A"],n=[Q.Key.Shift,"S"],r=[Q.Key.Escape];Z(t,(function(){return e({type:p.ToggleMode,payload:m.Add.toString()})})),Z(n,(function(){return e({type:p.ToggleMode,payload:m.Search.toString()})})),Z(r,(function(){return e({type:p.ToggleMode,payload:m.None.toString()})}))}(),e=0===c.length?Object(f.jsx)(re,{children:"There are no items."}):Object(f.jsx)(ne,{"data-testid":"todo-list",children:c.map((function(e){return Object(f.jsx)(C,{data:e},e.id)}))}),Object(f.jsxs)(te,{children:[Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(k,{}),Object(f.jsx)(W,{mode:a,query:i}),e,Object(f.jsx)(D,{count:d,filterMode:r,inputMode:a})]}),Object(f.jsx)(ee,{mode:a})]})}var ae=function(){return Object(f.jsx)(y,{children:Object(f.jsx)(oe,{})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),o(e),a(e),i(e)}))};i.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(ae,{})}),document.getElementById("root")),ie()}},[[26,1,2]]]);
//# sourceMappingURL=main.29d434a9.chunk.js.map